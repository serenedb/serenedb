statement ok
CREATE TABLE t(r text);


statement ok
INSERT INTO t VALUES ('a'), ('b'), ('c');


statement ok
INSERT INTO t VALUES ('a'), ('b'), ('c');


statement onlyif postgres
ANALYZE t;


query
SELECT relname, reltuples FROM pg_class WHERE relname = 't';
----
relname	reltuples
t	6


statement ok
UPDATE t SET r = 'aa' WHERE r = 'a';


query
SELECT relname, reltuples FROM pg_class WHERE relname = 't';
----
relname	reltuples
t	6


statement ok
DELETE FROM t WHERE r = 'aa';


statement onlyif postgres
ANALYZE t;


query
SELECT relname, reltuples FROM pg_class WHERE relname = 't';
----
relname	reltuples
t	4
